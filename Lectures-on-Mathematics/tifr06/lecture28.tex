\chapter{Lecture 28}  %Lect 28

\section*{Direct sum of modules}\pageoriginale

\begin{defi*}%Def
The {\em direct sum} of a system $\{ M^i \}_{i \in I}$ of $A$-modules
is an $A$-module whose elements are systems $\{ m^i \}_{i \in I}$,
usually written as formal sums $\sum _i m^i$ where $m^i \in M^i$ and
$m^i=Q$ for all but a finite number of $i$. The operations in $M$ are
defined by  
$$
\sum_i m^i_1+\sum_im^i_2=\sum_i(m^i_1+m^i_2), \qquad a \sum_i 
m^i=\sum_iam^i, 
$$
where $\sum_im^i_1 \in M$, $\sum_i m^i_2\in M$, $\sum_im^i \in M$ and $a \in 
A$. 
\end{defi*}

Clearly there is a homomorphism $p^j:\sum_i M^i \to M^j$ defined by
$p^j(\sum _i m^i)=m^j$ and a homomorphism $h^j:M^j \to \sum_iM^i$
defined by 
$$
p^i h^j(m^j)=0 \text { for } i \neq j, p^jh^j(m^j)=m^j,m^j \in M^j. 
$$

\textit{A system of homomorphism $(g',g^i):(A,M^i)\to (B,N^i)$, $i \in
  I$, induces a homomorphism $(g',g):(A, \sum _iM^i) \to (B, \sum_i
  N^i)$ where\break $g(\sum_i m^i)=\sum_i g^i(m^i)$. There is commutativity
  in} 
\[
\xymatrix{
(A,M^j) \ar[r]^{h^j}\ar[d]_{(g',g^j)} & (A,\sum_i M^i) \ar[r]^{p^j}
  \ar[d]_{(g',g)} & (A,M^j)\ar[d]_{(g',g^j)} \\
(B,N^j) \ar[r]^{h^j} & (B,\sum_i N^i) \ar[r]^{p^j} & (B,N^j).
}
\]

\begin{proof}
Let $\sum _im^i_1 \in \sum_iM^i$, $\sum_im^i_2 \in \sum_iM^i$, $\sum_im^i
\in \sum_i M^i$ and let $a \in A$. Then 
$$
g(\sum_im^i_1+\sum_im^i_2)=g(\sum_i(m^i_1+m^i_2)=\sum
_{i}g^i(m^i_1+m^i_2) 
$$\pageoriginale
\begin{align*}
&=\sum_i(g^i(m^i_1) + g^i(m^i_2))=\sum_i g^i(m^i_1)+\sum_i g^i(m^i_2)\\
&=g(\sum _i m^i_1)+g (\sum_i m^i_2)\\
g(a \sum _i m^i)&= g (\sum_i a m^i) = \sum_i g^i (am^i)\\
& \sum_i g'(a)g^i(m^i)=g'(a)\sum_i g^i(m^i)\\
&=g'(a)g(\sum _i m^i).\\
g^ip^j(\sum_i m^i)&=g^jm^j=p^j(\sum_i g^im^i)\\
&=p^jg(\sum_i m^i)\\
p^kgh^j(m^j)&=g^kp^kh^j(m^j)=g^k(0)=0 \text{ for } k \neq j
\end{align*}
and 
$$
p^jgh^j(m^j)=g^jp^jh^j(m^j)=g^j(m^j),
$$
hence
$$
g h^j(m^j)=h^jg^j(m^j),\qquad m^j \in M^j.
$$
\textit{The operation of forming the direct limit commute with the
  operation of forming the direct sum.} 
\end{proof}

\begin{proof}
Let $\{ A_ \lambda,M^i_ \lambda, \phi'_{\mu \lambda},\phi^i_{\mu
  \lambda}\}_{\lambda ,\mu \in \Omega}$ ($\Omega$ a directed set) be a
direct system for each $i \in I$. Let the direct limits be $(A,M^i)$
with homomorphisms $(\phi'_\lambda , \phi^i_\lambda):(A_\lambda, M^i_
\lambda)\longrightarrow (A,M^i)$. There are induced homomorphisms 
$$
(\phi'_{\mu \lambda},\phi_{\mu \lambda}):(A_ \lambda ,\sum_i M^i_
\lambda)\to (A_ \mu,\sum_i M^i_ \mu) 
$$
for\pageoriginale which $\phi_{\nu\mu}\phi_{\mu \lambda}=\phi_{\nu
  \lambda},\lambda<\mu <v$ and $\phi_{\lambda \lambda}$ is the
identity. Thus $\{ A_ \lambda,\sum_i M^i_ \lambda, \phi'_{\mu
  \lambda}, \phi'_{\mu \lambda} \}_{\lambda \in \Omega}$ is direct
system. Let its direct limit be $(A,M)$ with homomorphisms 
$$
(\phi'_ \lambda, \phi_\lambda):(A_\lambda,\sum_i M^i_ \lambda) \to
(A,M). 
$$
\[
\xymatrix{
(A_{\lambda}, M^i_{\lambda}) \ar[r]^{\phi^i_{\mu\lambda}}
  \ar[d]_{h^i_{\lambda}} & (A_{\mu}, M^i_{\mu})
  \ar[r]^{\phi^i_{\mu}}\ar[d]^{h^i_{\mu}} & (A,M^i) \ar[d]
  \ar@/^2.5pc/[dd]^{h^i}& \\
(A_{\lambda}, \sum_i M^i_{\lambda}) \ar[r]^{\phi_{\mu\lambda}}
  \ar[drr]_{\phi''_{\lambda}} & (A_{\mu}, \sum_i M^i_{\mu})
  \ar[r]^{\phi_{\mu}} \ar[dr]^{\phi''_{\mu}}  & (A,M) \ar[d]^{\phi''}  & \\
& &  (A,\sum_i M^i) &
}
\]

The system of homomorphisms
$(\phi^i_\lambda,\phi^i_{\lambda}):(A_\lambda,M^i_\lambda)\to
(A,M^i)$ induces a 
homomorphism $(\phi'_\lambda, \phi''_\lambda):(A_\lambda, \sum_i
M^i_\lambda) \to (A,\sum_i M^i)$. Since for $\lambda < \mu$,  
\begin{align*}
\phi''_\mu \phi_{\mu \lambda}(\sum_i m^i_ \lambda) & = \phi''_ \mu (\sum_i 
\phi^i_{\mu \lambda}m^i_ \lambda)=\sum_i \phi^i_\mu \phi^i_{\mu
  \lambda}m^i_ \lambda\\ 
&=\sum_i\phi^i_ \lambda m^i_ \lambda=\phi''_ \lambda (\sum_i m^i_
\lambda), 
\end{align*}
therefore $\phi''_ \mu \phi_{\mu \lambda}= \phi''_ \lambda$ and there is 
an induced homomorphism $\phi'' :M \to \sum_i M^i$. 
\end{proof}

If $\sum_im^i \in \sum_i M^i$ then $m^i=0$ except for a finite number
of $i$, say $i_1, \ldots ,i_k$. Then, for some $\lambda$, each $m^{i_j}$
has a representative $m^{i_j}_\lambda \in M^{i_j}_\lambda$; let
$m^i_\lambda=0$ for $i \notin (i_1, \ldots,i_k)$. Then $\sum_i
m^i_\lambda \in \sum_iM^i_\lambda$ and $\sum_i m^i=\phi''_\lambda
\sum_i m^i_\lambda=\phi'' \phi_\lambda \sum_i m^i_\lambda$. Thus\pageoriginale
$\phi''$ is an epimorphism.  

To show that $\Phi''$ is a monomorphism, let $m \in M$ and 
$\phi''(m)=0$. Choose a representative $\sum_i m^i_\lambda$ of
$m$. Then $m^i_\lambda=0$ except for a finite number of $i$, say
$i=i_1, \ldots,i_k$. Since  
 $$
0=\phi''(m)=\phi''_\lambda (\sum_i m^i_\lambda)=\sum _i \phi^i_\lambda
m^i_\lambda,  
$$
therefore each $\phi^{ij}_\lambda m^{i_j}_\lambda =0$. Now choose 
$\mu$ so that each $\phi^{i_j}_{\mu \lambda}m^{i_j}_\lambda =0$. Then
$m$ is represented by 0 in $\sum_i M^i_\mu$ and hence $m=0$. Thus
$\phi''$ is an isomorphism. We identity $M$ with $\sum_i M^i$ under the
isomorphism $\phi''$. 

\medskip
\noindent\textit{Direct sum of sheaves}

\textit{Let $\mathfrak{a}$ be a sheaf of rings with unit and let $\{ 
  \mathscr{S}^i \}_{i \in I}$ be a system of sheaves of
  $\mathfrak{a}$-modules. Then there is a unique sheaf $\mathscr{S}$
  whose stalks are the direct sums $\sum\limits_{i \in I}S^i_x$ such
  that the homomorphisms $h^j_x:S^j_x\to S_x$ determine a sheaf
  homomorphism $h^j:\mathscr{S}^j \to \mathscr{S}$.} 

This $\mathscr{S}$ is called the \textit{direct sum} of the sheaves  
$\mathscr{S}^i$ and is denoted by $\mathscr{S}=\sum \limits_{i \in
  I}\mathscr{S}^i$. 

\begin{proof}
{\em Uniqueness}. If $s=\sum_i s^i \in \sum_iS^i_k$ with $s^i=0$
except for $i_1, \ldots, i_k$, choose a neighbourhood $U$ of $x$ and
sections $f_j:U \to S^{i_j}, j=1, \ldots ,k$ such that
$f_j(x)=S^{i_j}$. Let $f:U \to S(=\bigcup \limits_x \sum \limits_{i
  \in I} S^i_x)$ be defined by $f(y)=\sum_jh^{i_j}f_j(y)$. Since
$h^{i_j}$ is a sheaf homomorphism, the composite function 
$$
U \xrightarrow {f_j}S^{i_j} \xrightarrow{h^ij}S 
$$
is\pageoriginale a section and hence $f$ is a section. Since
$$
f(x)=\sum_j h^{i_j} f_j(x)=\sum _j h^{i_j}s^{i_j}=\sum_i s^i=s,  
$$
the section goes through $s$. Thus, since such section cover $S$, they 
uniquely determine the topology of $S$. 
\end{proof}

\medskip
\noindent{\textbf{Existence}}
From the presheaves of sections 
$(\bar{a},\bar{\mathscr{S}}^i)=\{A_U,S^i_U, \rho'_{_{VU}},\rho_{_{VU}}^i \}$
where $A_U= \Gamma (U,a)$ and $S^i_U=\Gamma (U,\mathscr{S}^i)$. Then 
$\{ A_U,\sum_i S^i_U, \rho'_{_{VU}},\rho_{_{VU}} \}$ (where $U$ runs through
the directed set of all the open sets of $X$) is a presheaf. It
determines a sheaf $(a,\mathscr{S})$ and there is a homomorphism
$h^j_U:S^j_U \to \sum _i S^i_U$ with commutativity in  
\[
\xymatrix{
(A_U, S^j_U) \ar[r]^{h^j_U}\ar[d]_{(\rho'_{_{VU}}, \; \rho^j_{_{VU}})} & (A_U,
  \sum_i S^i_U) \ar[d]^{(\rho'_{_{VU}}, \; \rho_{_{VU}})}\\
(A_V,S^j_V) \ar[r]^{h^j_V} & (A_V, \sum_i S^i_V).
}
\]\pageoriginale

Hence there is an induced sheaf homomorphism $h^j: \mathscr{S}^j \to
\mathscr{S}$. The stalk $(A_x,S_x)$ of $(\mathfrak{a},\mathscr{S})$ is the direct
limit of the direct system \break $\{ A_U, \sum_i S^i_U, \rho'_{_{VU}},
\rho_{_{VU}} \}_{x \in U}$ which is identified with the direct sum of the
direct limits $(A_x,S^i_x)= {\rm dir} \lim \{ A_U,S^i_U,\rho'_{_{VU}}, \rho^i_{_{VU}}
\}_{x \in U}$. Thus $S_x=\sum_i S^i_x$ and the required sheaf exists,
$q.e.d$. 

There is also a homomorphism $p^i_U: \sum_i S^i_U\to S^j_U$ (as
defined in the beginning of the lecture) with commutativity in 
\[
\xymatrix{
(A_U, \sum_i S^i_U) \ar[r]^{p^j_U}\ar[d]_{(\rho'_{_{VU}}, \; \rho_{_{VU}})} & (A_U,
  S^j_U) \ar[d]^{(\rho'_{_{VU}}, \; \rho^j_{_{VU}})}\\
(A_V,\sum_iS^i_V) \ar[r]^{p^j_V} & (A_V,  S^j_V)
}
\]

Hence there is a sheaf homomorphism $p^j:\mathscr{S}\to \mathscr{S}^j$
which is clearly onto. If $s=\sum_i s^i \in S$, it is easily verified
that $p^j(s)=s^j$, hence $p^jh^j(s^j)=s^j$ and $p^j h^i(s^j)=0$ if $i
\neq j$. 

