\chapter{CLOSED IDEALS}\label{chap2}
\pageoriginale

\section{Jets of vector-valued functions}\label{chap2-sec1}

Let $L$ be a closed cube in $\bfR^{n}$, $K$ a closed subset of $L$, $E$ a finite dimensional vector space over $\bfR$. Until now we considered jets $(f^{k})_{|k|\leq m}$ where $f^{k}$ are real-valued functions but we can also consider vector-valued functions with values in $E$. The spaces $J^{m}(K,E)$, $\scrE^{m}(K,E)$, $\scrI^{m}(K;L,E)$, $J(K,E)$, $\scrE(K,E)$, $\scrI(K;L,E)$ are all defined in the obvious way. The results of Chapter \ref{chap1} hold for these spaces with the obvious modifications. Also it is claar that there is an identification of $\scrE^{m}(L,E)$ with the product space $(\scrE^{m}(L))^{r}$ where $r$ is the rank of $E$ over $\bfR$. So naturally we provide $\scrE^{m}(L,E)$ with the product topology and also the structure of an $\scrE^{m}(L)$-module. In the sequel, all the modules considered are $\scrE^{m}(L)$-modules.

\begin{definition}\label{chap2-defi1.1}
For $a\in L$, we denote by $T^{m}_{a}$ the natural mapping
$$
\scrE^{m}(L,E)\to \scrE^{m}(L,E)/\scrI^{m}(\{a\},L,E).
$$

Obviously, the image of an $f\in \scrE^{m}(L,E)$ under this mapping can be identified with the Taylor expansion of order $m$ of $f$ at $a$, which explains the notation.

For any sub-module $M$ of $\scrE^{m}(L,E)$, $T^{m}_{a}M$ is a sub-module of $\scrE^{m}(L,E)/\scrI^{m}(\{a\},L,E)$; and as a vector space over $\bfR$, it has finite rank because the latter does.
\end{definition}

\begin{definition}\label{chap2-defi1.2}
An $f$ in $\scrE^{m}(L,E)$ is said to be pointwise in a sub-module $M$ of $\scrE^{m}(L,E)$ if $T^{m}_{a}f\in T^{m}_{a}M$ for all $a$ in $L$.
\end{definition}

\begin{theorem}[Whitney \cite{H. Whitney : 2}.]\label{chap2-thm1.3}
If $M$ is a sub-module of $\scrE^{m}(L,E)$, $\overline{M}$ is the closure of $M$ in $\scrE^{m}(L,E)$, and $\widehat{M}$ is the module of all functions $f$ pointwise in $M$, then $\widehat{M}=\overline{M}$.
\end{theorem}

\begin{lemma}\label{chap2-lem1.4}
Let $K$ be a compact subset of $L$ such that for all $a\in K$, the rank of $T^{m}_{a}M$ over $\bfR=p$, a constant. Let $F\in M$. Then given any $\epsilon > 0$,\pageoriginale we can find $\phi\in \scrE^{m}(L)$; $\phi=1$ in a neighbourhood of $K$ and $f\in M$ such that $|\phi F-f|_{m}<\epsilon$.
\end{lemma}

Here, $||_{m}$ stands for $||^{L}_{m}$ which is defined in the same way as in Chapter \ref{chap1}, \S\ref{chap1-sec1} if we have chosen a norm on $E$. Also we observe that Chapter \ref{chap1}, (\ref{chap1-thm2.2}) holds even for finite dimensional vector-valued jets and we define $\alpha$ to be a modulus of continuity for $F$, if it is a modulus of continuity and it verifies Chapter \ref{chap1}, (\ref{chap1-sec2.2.3}).

\medskip
\noindent
{\bf Proof of the Lemma.}~Let $a\in K$. By hypothesis there exists a neighbourhood $V_{a}$ of $a$ and $f_{1},f_{2},\ldots,f_{p}$ in $M$ such that for $x$ in $V_{a}\cap K$, $T^{m}_{x}f_{1}$, $T^{m}_{x}f_{2},\ldots,T^{m}_{x}f_{p}$ is a basis of $T^{m}M$ over $\bfR$. Hence there exist continuous functions $\lambda_{1},\lambda_{2},\ldots,\lambda_{p}$ on $V_{a}\cap K$ such that
$$
T^{m}_{x}F=\sum\limits^{p}_{i=1}\lambda_{i}(x)T^{m}_{x}f_{i}\text{ for all } x\in V_{a}\cap K.
$$

Using a partition of unity we can find $f_{1}, f_{2},\ldots,f_{s}\in M$, functions $\lambda_{1},\lambda_{2},\ldots,\lambda_{s}$ on $L$ and a constant $C$ such that for all $x\in K$,
$$
T^{m}_{x}F=\sum\limits^{s}_{i=1}\lambda_{i}(x)T^{m}_{x}f_{i}
$$
and
$$
\sup\limits_{\substack{1\leq i\leq s\\ x\in L}}|\lambda_{i}(x)|\leq C.
$$

Let $\alpha$ be a modulus of continuity for $F$, $f_{1},f_{2},\ldots,f_{s}$. Define for any $a\in K$, $x\in L$, $f_{a}(x)=\sum\limits^{s}_{i=1}\lambda_{i}(a)f_{i}(x)$. Obviously
$$
T^{m}_{a}F(z)=T^{m}_{a}f_{a}(z).
$$
Therefore for $a\in K$, $x\in L$, $z\in \bfR^{n}$,
\begin{align*}
|T^{m}_{x}F(z)-T^{m}_{x}f_{a}(z)| &\leq |T^{m}_{x}F(z)-T^{m}_{a}F(z)|+|T^{m}_{a}f_{z}(z)-T^{m}_{x}f_{z}(z)|\\
& \leq C'(|z-x|^{m}+|z-a|^{m})\alpha (|x-a|),\tag{1.4.2}\label{chap2-eq1.4.2}
\end{align*}
where $C'$ is independent of $a$, $x$, $z$. Hence again using the same argument as in proving in Chapter \ref{chap1} that (\ref{chap1-sec2.2.3}) $\Rightarrow$ (\label{chap1-sec2.2.2}), we see that there exists a constant $C''$ not depending on $a$, $x$, $z$, such that
\begin{equation*}
|D^{k}F(x)-D^{k}f_{a}(x)|\leq C''|x-a|^{m-|k|}\alpha(|x-a|).\tag{1.4.2}\label{chap2-add-eq1.4.2}
\end{equation*}

Let\pageoriginale us divide $\bfR^{n}$ into cubes each of side $d$ and for each such cube, consider the open cube of side $2d$ with the same centre and let $I$ denote the family of these cubes. By a construction similar to Lemma \ref{chap1-lem3.1} of Chapter \ref{chap1}, (and even simpler), we obtain a partition of unity $\phi_{i}(i\in I)$ subordinate to $I$ such that for $|k|\leq m$,
\begin{equation*}
\sum\limits_{i\in I}|D^{k}\phi_{i}(x)|\leq \dfrac{C}{d^{|k|}},\tag{1.4.3}\label{chap2-eq1.4.3}
\end{equation*}
where $C$ is a constant depending only on $m$ and $n$. Let $I'$ be the family of those $S$ in $I$ which meet $K$ and for each such $S$, let $a_{S}$ be a point in $S\cap K$. $I'$ is a finite set. Define
$$
\phi=\sum\limits_{S\in I'}\phi_{S}, \ f=\sum\limits_{S\in I'}\phi_{S}f_{a_{S}}.
$$
Obviously $\phi(x)=1$ in a neighbourhood of $K$ and 
\begin{align*}
|\phi F-f|_{m} &= \sum\limits_{|k|\leq m}\sup\limits_{x\in L}|D^{k}(\phi F-f)(x)|\\
&\leq \sum\limits_{|k|\leq m}\sum\limits_{S\in I'}\sup\limits_{x\in L}|D^{k}(\phi_{S}F-\phi_{S}f_{a_{S}})(x)|
\end{align*}
and so by Leibniz's formula and \eqref{chap2-eq1.4.2}, \eqref{chap2-eq1.4.3}, it follows that
$$
|\phi F-f|_{m}\leq C''' \alpha(d)
$$
where $C'''$ is independent of $d$.

Hence if we choose $d$ sufficiently small the lemma follows.

\medskip
\noindent
{\bf Proof of Theorem \ref{chap2-thm1.3}.}~Let $B_{p}=\{x\in L|\text{~rank of~}T^{m}_{a}M\leq p\}$. Let $A_{p}=B_{p}-B_{p-1}$ for $p\geq 0$. Let us make the statement $H_{p}$: Given any $F\in\widehat{M}$ and $\epsilon>0$, there exists a function $\phi$ in $\scrE^{m}(L)$, $f$ in $M$ such that $\phi(x)=1$ in a neighbourhood of $B_{p}$ and $|\phi F-f|_{m}\leq \epsilon$.

$H_{0}$ is true because of Lemma \ref{chap2-lem1.4} and the fact that $B_{0}=A_{0}$ is closed. So, let us suppose that $H_{p-1}$ is true for some $p\geq 1$. Therefore given any $\epsilon>0$, $F\in M$, there exists functions $\phi_{p-1}\in \scrE^{m}(L)$, and $f_{p-1}\in M$ such that $\phi_{p-1}(x)=1$ for all $x$ in a neighbourhood of $B_{p-1}$ and $|\phi_{p-1}F-f_{p-1}|_{m}\leq \dfrac{\epsilon}{2}$.

Let\pageoriginale $K'$ be a compact neighbourhood of $\supp (1-\phi_{q-1})$ such that $K'\cap B_{p-1}=\emptyset$. Let $K=K'\cap B_{p}$. Therefore $K\subset A_{p}$ and so applying our lemma to $K$, taking $(1-\phi_{p-1})F$ instead of $F$, we get a function $\psi\in \scrE^{m}(L)$, with $\psi=1$ in a neighbourhood of $K$ and an $f\in M$ such that
$$
|\psi(1-\phi_{p-1})F-f|_{m}\leq \dfrac{\epsilon}{2}.
$$

Consider $\phi_{p}$, $f_{p}$ defined by $1-\phi_{p}=(1-\psi)(1-\phi_{p-1})$ and $f_{p}=f+f_{p-1}$. One has obviously $\phi_{p}\in \scrE^{m}(L)$, $f_{p}\in M$, $|\phi_{p}F-f_{p}|_{m}\leq \epsilon$ and $\phi_{p}=1$ in a neighbourhood of $B_{p}$. This proves the theorem.

\begin{corollary}\label{chap2-coro1.5}
Let $M$ be a sub-module of $\scrE^{m}(L,E)$. Then for any $x\in L$, $T^{m}_{x}M=T^{m}_{x}\overline{M}$.
\end{corollary}

\begin{corollary}\label{chap2-coro1.6}
Let $\Omega$ be an open set in $\bfR^{n}$ and $M$ a sub-module of $\scrE^{m}(\Omega,E)$. Then $\widehat{M}=\overline{M}$ where $\widehat{M}$ and $\overline{M}$ are defined in the same way as in \ref{chap2-thm1.3}.
\end{corollary}

\begin{proof}
Let us take a $C^{\infty}$-partition of unity $\phi_{i}(i\in I)$ in $\Omega$. Let $f\in \widehat{M}$. Then applying the theorem to $\phi_{i}f$, we get $\phi_{i}f\in \overline{M}$. By the definition of the topology on $\scrE^{m}(L,E)$, one obtains $\sum\limits_{i\in I}\phi_{i}f\in \overline{M}$.
\end{proof}

\begin{corollary}\label{chap2-coro1.7}
Let $\Omega$ be a $C^{\infty}$-manifold countable at infinity. Let $M$ be a sub-module of $\scrE(\Omega,E)$. Then $\widehat{M}=\overline{M}$ where $\widehat{M}$ is defined as the module of all $f$ in $\scrE(\Omega,E)$ such that $T^{m}_{x}f\in T^{m}_{x}M$ for all $x\in \Omega$ and all $m\geq 0$.
\end{corollary}

\begin{proof}
Let $K$ be any compact set in $\Omega$, $m$ any positive integer, $\epsilon$ any positive number. Let $f\in \widehat{M}$. Then since $T^{m}_{x}f\in T^{m}_{x}M$ for all $x$ in $\Omega$, $f$ is in the closure of the module generated by $M$ over $\scrE^{m}(\Omega)$ and so there exist $\phi'_{1},\phi'_{2},\ldots,\phi'_{k}$ in $\scrE^{m}(\Omega)$ and $g_{1},g_{2},\ldots,g_{k}$ in $M$ such that $\left|f-\sum\limits^{k}_{i=1}g_{i}\phi'_{i}\right|^{K}_{m}\leq \epsilon$. But $\scrE(\Omega)$ is dense in $\scrE^{m}(\Omega)$; therefore $\phi'_{i}$ can be replaced by $\phi_{i}$ in $\scrE(\Omega)$ such that
$$
\left|f-\sum\limits^{k}_{i=1}g_{i}\phi_{i}\right|^{K}_{m}\leq \epsilon.
$$
Therefore $f\in \overline{M}$ which proves the result.
\end{proof}

\begin{remark}\label{chap2-rem1.8}
We\pageoriginale know (Chapter \ref{chap1}, \S\ref{chap1-sec4}) that given $a\in \Omega$, $\scrE(\Omega)/\scrI(\{a\};\Omega)$ is isomorphic to the ring of formal power series in $n(=\dim \Omega)$ variables. Now define $T_{a}$ as the natural mapping $\scrE(\Omega,E)\to \scrE(\Omega,E)/\scrI(\{a\};\Omega,E)$ and let $M$ be a sub-module of $\scrE(\Omega,E)$. From Krull's theorem (see Chapter \ref{chap3}) it follows that ``$T_{a}f\in T_{a}M$'' is equivalent to ``for all $m\geq 0$, $T^{m}_{a}f\in T^{m}_{a}M$''. Namely, for all $a\in \Omega$, we have $T^{m}_{a}M=T^{m}_{a}\widehat{M}=T^{m}_{a}\overline{M}$.
\end{remark}

